{% extends "base.html" %} {% block title %}Dictionary Mapping{% endblock %} {% block content%}
  <h3> Dictionary Mapping</h3>
  <br />
  <div class="form-group">
    <label for="project-select">Select Project:</label>
    <select id="project-select" class="form-control">
      <option value="">-- Select a Project --</option>
      {% for project in projects %}
          <option value="{{ project.project_id}}">{{ project.project_name }}</option>
      {% endfor %}
    </select>
  </div>
  <br />
  <div id="handsontable-container"></div>
  <br />
  <button id="save-button" class="btn btn-primary" disabled>Save changes</button>

  <script src="https://cdn.jsdelivr.net/npm/handsontable/dist/handsontable.full.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/handsontable/dist/handsontable.full.min.css">

  <script>
    const projectSelect = document.getElementById('project-select');
    const saveButton = document.getElementById('save-button');
    let handsOnTable;

    function initializeTable(data) {
      const container = document.getElementById('handsontable-container');

      if (handsOnTable) handsOnTable.destroy();
    }
  </script>
















    <!-- <h3 align="left">Dictionary Mapping</h3>
    <br />
    <form action="/dictionaryMapping" method="POST" enctype="multipart/form-data" target="_blank">
        <div class="file-upload-wrapper">
            <label for="file">Select an existing DM to insert new data into it (optional):</label>
            <input type="file" name="file" id="file" class="file-input">
            <span id="file-name" class="file-name"></span>
        </div>
        <br /><br />
      <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="attribute">Attribute:</label>
                    <input type="text" id="urlfileattribute" name="urlfileattribute" class="form-control" placeholder="Enter a text"/>   
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="attributeOf">Attribute of:</label>
                    <input type="text" id="urlfileattributeof" name="urlfileattributeof" class="form-control" placeholder="Enter a text"/>   
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="column">Column:</label>
                    <input type="text" id="urlfilecolumn" name="urlfilecolumn" class="form-control" placeholder="Enter a text"/>   
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                  <label for="coment">Comment:</label>
                  <input type="text" id="urlfilecomment" name="urlfilecomment" class="form-control" placeholder="Enter a text"/>   
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                  <label for="definition">Definition:</label>
                  <input type="text" id="urlfiledefinition" name="urlfiledefinition" class="form-control" placeholder="Enter a text"/>   
                </div>   
            </div>
            <div class="col-md-6">
                <div class="form-group">
                  <label for="entity">Entity:</label>
                  <input type="text" id="urlfileentity" name="urlfileentity" class="form-control" placeholder="Enter a text"/>   
                </div>   
            </div>
            <div class="col-md-6">
                <div class="form-group">
                  <label for="format">Format:</label>
                  <input type="text" id="urlfileformat" name="urlfileformat" class="form-control" placeholder="Enter a text"/>   
                </div>   
            </div>
            <div class="col-md-6">
                <div class="form-group">
                  <label for="inReleationTo">In Releation to:</label>
                  <input type="text" id="urlfileinReleationTo" name="urlfileinReleationTo" class="form-control" placeholder="Enter a text"/>   
                </div>   
            </div>
            <div class="col-md-6">
                <div class="form-group">
                  <label for="label">Label:</label>
                  <input type="text" id="urlfilelabel" name="urlfilelabel" class="form-control" placeholder="Enter a text"/>   
                </div>   
            </div>
            <div class="col-md-6">
                <div class="form-group">
                  <label for="property">Property:</label>
                  <input type="text" id="urlfileproperty" name="urlfileproperty" class="form-control" placeholder="Enter a text"/>   
                </div>   
            </div>
            <div class="col-md-6">
                <div class="form-group">
                  <label for="relation">Relation:</label>
                  <input type="text" id="urlfilerelation" name="urlfilerelation" class="form-control" placeholder="Enter a text"/>   
                </div>   
            </div>
            <div class="col-md-6">
                <div class="form-group">
                  <label for="role">Role:</label>
                  <input type="text" id="urlfilerole" name="urlfilerole" class="form-control" placeholder="Enter a text"/>   
                </div>   
            </div>
            <div class="col-md-6">
                <div class="form-group">
                  <label for="time">Time:</label>
                  <input type="text" id="urlfiletime" name="urlfiletime" class="form-control" placeholder="Enter a text"/>   
                </div>   
            </div>
            <div class="col-md-6">
                <div class="form-group">
                  <label for="unit">Unit:</label>
                  <input type="text" id="urlfileunit" name="urlfileunit" class="form-control" placeholder="Enter a text"/>   
                </div>   
            </div>
            <div class="col-md-6">
                <div class="form-group">
                  <label for="wasDerivedFrom">Was Derived From:</label>
                  <input type="text" id="urlfilewasDerivedFrom" name="urlfilewasDerivedFrom" class="form-control" placeholder="Enter a text"/>   
                </div>   
            </div>
            <div class="col-md-6">
                <div class="form-group">
                  <label for="wasGeneratedBy">Was Generated By:</label>
                  <input type="text" id="urlfilewasGeneratedBy" name="urlfilewasGeneratedBy" class="form-control" placeholder="Enter a text"/>   
                </div>   
            </div>
            <div class="form-group">
                <label for="project">Project:</label>
                <input type="text" id="urlfileproject" name="urlfileproject" class="form-control" placeholder="Enter a text"/>   
            </div>
        </div>
      </div>
      <br/>
      <div class="d-flex justify-content-center">
          <button class="btn btn-primary" value="Upload" onClick="uploadDictionaryMapping()">Upload</button>
      </div>
    </form>
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <p class="{{ category }}">{{ message }}</p>
            {% endfor %}
        {% endif %}
    {% endwith %} -->
{% endblock %}